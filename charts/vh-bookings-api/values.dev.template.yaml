---
mssql:
  releaseNameOverride: ${RELEASE_NAME}-sql
  envSecrets:
    CONNECTIONSTRINGS__VHBOOKINGS: "Server=tcp:{{ .Values.releaseNameOverride }},1433;Initial Catalog=vhbookings;Persist Security Info=False;User ID=sa;Password={{ .Values.sqlConfig.saPassword }};MultipleActiveResultSets=False;Encrypt=True;TrustServerCertificate=True;Connection Timeout=30;"

java:
  image: '${IMAGE_NAME}'
  ingressHost: ${SERVICE_FQDN}
  releaseNameOverride: ${RELEASE_NAME}
  envFromSecret: ${RELEASE_NAME}-sql-env
  keyVaults:
    vh-infra-core:
      excludeEnvironmentSuffix: false
      resourceGroup: vh-infra-core-{{ .Values.global.environment }}
      usePodIdentity: true
      secrets:
        - applicationinsights--instrumentationkey
        - azuread--tenantid
        - servicebusqueue--connectionstring
    vh-bookings-api:
      excludeEnvironmentSuffix: false
      resourceGroup: vh-infra-core-{{ .Values.global.environment }}
      usePodIdentity: true
      secrets:
        - azuread--clientid
        - azuread--clientsecret
        - kinlyconfiguration--sipaddressstem
        - launchdarkly--sdkkey
        - name: azuread--identifieruri
          alias: azuread--bookingsapiresourceid
        - name: azuread--identifieruri
          alias: services--bookingsapiresourceid